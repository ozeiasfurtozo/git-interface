// Generated by CoffeeScript 1.6.1
var exec, gitExec;

exec = require('child_process').exec;

gitExec = function(cmd, callback) {
  var git, result;
  result = null;
  git = exec(cmd);
  git.stdout.on('data', function(data) {
    result = data.trim();
    return typeof callback === "function" ? callback(result) : void 0;
  });
  return git.stdout.on('close', function() {
    if (!result) {
      return typeof callback === "function" ? callback(null) : void 0;
    }
  });
};

module.exports = {
  getHash: function(fileName, callback) {
    return gitExec("git log -n 1 --pretty=\"%H\" -- " + fileName, callback);
  },
  diffMaster: function(fileName, callback) {
    return gitExec("git diff master -- " + fileName, callback);
  }
};
